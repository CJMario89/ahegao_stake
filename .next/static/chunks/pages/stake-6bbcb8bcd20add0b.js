(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{2567:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return n(5437)}])},5437:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var a=n(5893),i=n(6979),s=n(204),p=n(7006),o=n(8911),r=n(9222),l=n(1686),u=n(1652),y={src:"/_next/static/media/approve_block.06efedb1.png",height:1962,width:2029,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA+klEQVR42mN43PRL53L2a5lNDGe4GRgYmBgQgHlRzBZGhm+z/zv83/bf6v+W/5b/l//X/L/5v+T////Z4Mo2lx5uqk1uudCY2nGy0Kn2QLFD/aFix4ZjEfpJi9q8pggzLI/b0R+iFv8kQjP5doxp6r0o45Q7kQZJj5PN805ODV7Gz3C951XJkf5Ls472X552dOLlGQebL07YlXm2e2f26dIyi1YWhgN5Vzr6/ecdmBi4cNfEgAW7QXR/4Ly9syNWbztX/lie4W3X/7wfE/7nfZ/wPxeGgfzsr33/S162/7dkeNryN+FR068soHczgHTmIygN5Cc/a/mnDQBhP4r+I8oniwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},d={src:"/_next/static/media/approve_button.d697bc84.png",height:244,width:901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR4nGP8/vBfH7sII+/rF+9YP3z4wM7KyvpPVFTkOxcPJ+Ovt/9fMH5/9K+aXZhR8cXT1yzPnj3n5ubm+iMpJfmVl4+b8de7/1cBBPUepWRJvvQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},c={src:"/_next/static/media/choose_block.65ecc311.png",height:2361,width:1602,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAqUlEQVR4nGP8t/O/OaMIw2+G/0D8geGxe5nPB8ZJyfMWX397yYKdkeP760dvmf7+/juVMcUw/9ic8xMtGaDAWdl7DmORY92BvoNN9goCKt+/f//GaSxrMZExw7Tk9IzTPSZARWBgLGk5g3FVzq6Fd57fVGNjY/v55/sfLn5WwZWMn2b8L2JjYWBlYATa/4uB8edXhqeMjxt+p/z//58DqPMfUIKZkZnxDgBytUNeJmmUrQAAAABJRU5ErkJggg==",blurWidth:5,blurHeight:8},m={src:"/_next/static/media/confirm_button.57653844.png",height:244,width:901,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAARElEQVR4nGP8/vBfB5swo8jnj18ZX754ycUABFLSUl+5uDkYfr37/xamQPjThy+MTx494WFkYmSQkZX5wsvHzQhUcBMAyzocrqWtvrQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},x={src:"/_next/static/media/staking_header.a778f382.png",height:351,width:1672,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAQElEQVR42gXAuw1AQBgA4O/QKCQ6YlAb2M8OCtFpLheP+CXtyzfXvbXqDM8mN6NJaN+TKPYGGXdQhAtFEgnB8QMPfxaGX5AbeQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2},b={src:"/_next/static/media/supply_rate_header.a284f3d3.png",height:487,width:1886,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASElEQVR4nGN8OelfM5sSw5V/3xgE/v9hYGP4w8ABpDn+vmP49e8HAwvj845/VUycDIf//2UQYvjPwM7wj4EDhIF8rv//GR4AAPorHZ9ug7JCAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2},g={src:"/_next/static/media/total_header.bce2551e.png",height:487,width:1936,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASUlEQVR4nA3KMQ5AQBRF0fs1M2Qi9mCROrXOtvQ6G6BRaCRkvG/6Y8esMfRsukk4TT55dSGMzp3H9klDFVk80wI1H8FFLDgVsP7m3xyIH+WY/wAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2},A=n(7294),f=n(260),h=n(5091),T=n(7583);let w=[{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_duration",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_nft",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"unstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_staker",type:"address"}],name:"getAllStake",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_staker",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getStake",outputs:[{components:[{internalType:"bool",name:"isStaking",type:"bool"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],internalType:"struct NFTStaking.Stake",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"Stakes",outputs:[{internalType:"bool",name:"isStaking",type:"bool"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"UserTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],k=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newRoyaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"newRoyaltyBps",type:"uint256"}],name:"DefaultRoyalty",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"prevOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"royaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyBps",type:"uint256"}],name:"RoyaltyForToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"collectMistakeCurrency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDefaultRoyaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInfo",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getRoyaltyInfoForToken",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_defaultAdmin",type:"address"},{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"_contractURI",type:"string"},{internalType:"address[]",name:"_trustedForwarders",type:"address[]"},{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint128",name:"_royaltyBps",type:"uint128"},{internalType:"string",name:"baseURI_",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"string",name:"_uri",type:"string"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_tos",type:"address[]"},{internalType:"string[]",name:"_uris",type:"string[]"}],name:"mintToBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenIdToMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"froms",type:"address[]"},{internalType:"address[]",name:"tos",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseUri",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint256",name:"_royaltyBps",type:"uint256"}],name:"setDefaultRoyaltyInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"address",name:"_recipient",type:"address"},{internalType:"uint256",name:"_bps",type:"uint256"}],name:"setRoyaltyInfoForToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"_uri",type:"string"}],name:"setUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],v=()=>{let{setSTAKE:e,setERC721:t}=(0,A.useContext)(f.ContractContext),{setSigner:n,setStatus:a,setAccount:i}=(0,A.useContext)(f.AccountContext),s=async()=>{let a=new h.Q(window.ethereum),i=await a.getSigner();n(i);let s=new T.CH("0x9288244f5570269cB0958b07f205E3C0035c6067",k,i),p=new T.CH("0x689c13d9c82709707c263510F29A4aC6FdC29339",w,i);return e(p),t(s),i},p=async()=>{if(null==window?void 0:window.ethereum)try{a("isConnecting");let e=await window.ethereum.request({method:"eth_requestAccounts"}),t=await s();console.log(t);let n=await fetch("http://13.115.250.186/api/getMessage",{method:"POST",body:JSON.stringify({address:e[0]}),headers:{"Content-Type":"application/json"}}),p=await n.json(),o=await t.signMessage(p.message),r=await fetch("http://13.115.250.186/api/sign-in",{method:"POST",body:JSON.stringify({address:e[0],signature:o}),credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});await r.json(),i(e[0]),a("isConnected")}catch(e){console.log(e),a("isDisconnected")}else a("isDisconnected"),alert("Please use browser supported wallets")},o=()=>{i(),a("isDisconnected")};return{connect:p,disconnect:o}};var C=n(7848);let j=()=>{let{account:e}=(0,A.useContext)(f.AccountContext);return(0,C.a)(["getTotalStake",e],async()=>{let e=await fetch("http://13.115.250.186/api/getTotalStake",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}),t=await e.json();return t.num})},M=()=>{let{account:e}=(0,A.useContext)(f.AccountContext),{ERC721:t}=(0,A.useContext)(f.ContractContext);return(0,C.a)(["getTotalNFT",e],async()=>{if(!t)return 0;let e=await t.totalSupply();return e.toString()})},R=()=>{let{account:e}=(0,A.useContext)(f.AccountContext);return(0,C.a)(["getAllStake",e],async()=>{let e=await fetch("http://13.115.250.186/api/getAllStake",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}),t=await e.json();return null==t?void 0:t.allStake})},I=()=>{let{account:e}=(0,A.useContext)(f.AccountContext);return(0,C.a)(["allNFT",e],async()=>{let e=await fetch("http://13.115.250.186/api/getAllNFT",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}),t=await e.json();console.log(null==t?void 0:t.nfts);let n=null==t?void 0:t.nfts.sort((e,t)=>Number(e.tokenId)-Number(t.tokenId));return n})},E={1:20,2:69,3:169},S=e=>e>=5?2:e>=4?1.75:e>=3?1.5:e>=2?1.25:e>=1?1:0,F=(e,t)=>E[t]*S(e),_=(e,t)=>30*E[t]*S(e)*e;var U=n(3100);let D=e=>{let{...t}=e;return(0,a.jsx)(s.k,{position:"absolute",w:"6px",h:"6px",borderRadius:"50%",backgroundColor:"#E686FF",zIndex:2,justifyContent:"center",alignItems:"center",...t,children:(0,a.jsx)(U.xu,{w:"2px",h:"2px",borderRadius:"50%",m:"auto",backgroundColor:"rgba(0, 0, 0, 0.5)"})})},B=()=>(0,a.jsxs)(s.k,{position:"absolute",top:"0px",h:"70px",w:"350px",children:[(0,a.jsx)(U.xu,{id:"pink",w:"350px",h:"50px",backgroundColor:"#E686FF",position:"absolute",top:"0",left:"0"}),(0,a.jsx)(U.xu,{id:"pink",w:"350px",h:"0",borderTop:"20px solid #E686FF",borderRight:"30px solid transparent",position:"absolute",top:"50px",left:"0px"}),(0,a.jsx)(U.xu,{id:"pink",w:"3px",h:"50px",position:"absolute",backgroundColor:"#E686FF",top:"10px",left:"10px",zIndex:1}),(0,a.jsx)(U.xu,{id:"mask",w:"338px",h:"46px",backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",top:"2px",left:"10px"}),(0,a.jsx)(U.xu,{id:"mask",w:"338px",h:"0",borderTop:"20px solid rgba(0, 0, 0, 0.5)",borderRight:"30px solid transparent",position:"absolute",top:"48px",left:"10px"}),(0,a.jsx)(D,{right:"7px",top:"10px"}),(0,a.jsx)(D,{right:"7px",top:"20px"})]});var N=n(8228);let G=()=>{let{account:e}=(0,A.useContext)(f.AccountContext),{ERC721:t,STAKE:n}=(0,A.useContext)(f.ContractContext),a=(0,N.D)(async()=>{if(t&&n&&e)try{let a=await n.getAddress(),i=await t.isApprovedForAll(e,a);if(i)return!0;return await t.setApprovalForAll(a,!0),!0}catch(e){return console.log(e),!1}});return a},O=e=>{let{tokenId:t,month:n}=e,{STAKE:a}=(0,A.useContext)(f.ContractContext),{account:i,setStatus:s,setAccount:p}=(0,A.useContext)(f.AccountContext),o=(0,N.D)(async()=>{if(a&&i)try{let e=await a.getStake(i,t);console.log(e);let o=e[0];if(!o){let e=await a.stake(t,n),i=await e.wait();console.log(i)}let r=await fetch("http://13.115.250.186/api/stake",{method:"POST",credentials:"include",body:JSON.stringify({tokenId:t}),headers:{"Content-Type":"application/json"}});console.log(r);let l=await r.json();return(null==l?void 0:l.err)==="no user found"&&(p(""),s("isDisconnected"),alert("Your auth has expired")),l}catch(e){return console.log(e),{}}});return{...o}},P=()=>{let{STAKE:e}=(0,A.useContext)(f.ContractContext),{account:t}=(0,A.useContext)(f.AccountContext),n=(0,N.D)(async n=>{let{tokenId:a}=n;if(!(!e||!t||isNaN(Number(a))))try{let n=await e.getStake(t,a);console.log(n);let i=n[0];if(console.log(i),i)try{let t=await e.unstake(a),n=await t.wait();console.log(n)}catch(e){(null==e?void 0:e.code)!=="ACTION_REJECTED"&&alert("Stake has not ended");return}let s=await fetch("http://13.115.250.186/api/getStakeReward",{method:"POST",credentials:"include",body:JSON.stringify({tokenId:a}),headers:{"Content-Type":"application/json"}}),p=await s.json();return console.log(p),!0}catch(e){return console.log(e),!1}});return{...n}},W=()=>{let{account:e}=(0,A.useContext)(f.AccountContext);return(0,C.a)(["getUserPoint",e],async()=>{let e=await fetch("http://13.115.250.186/api/getUserPoint",{method:"GET",credentials:"include",headers:{Accept:"application/json"}}),t=await e.json();return t.point})},z={color:"#E686FF",fontSize:"20px",fontWeight:"600"},Q=()=>{let{account:e,status:t}=(0,A.useContext)(f.AccountContext),{connect:n}=v(),[h,T]=(0,A.useState)(!1),[w,k]=(0,A.useState)(-1),[C,E]=(0,A.useState)(""),[U,D]=(0,A.useState)({}),[N,Q]=(0,A.useState)(!1),[J,V]=(0,A.useState)(""),[Y,L]=(0,A.useState)(!1),[X,H]=(0,A.useState)(1),{data:K,refetch:Z}=j(),{data:q,refetch:$}=M(),{data:ee,refetch:et}=R(),{data:en,refetch:ea}=I(),{data:ei,refetch:es}=W(),{mutate:ep,data:eo,isError:er}=G(),{mutate:el,data:eu,isError:ey}=O({tokenId:U.tokenId,month:U.month}),{mutate:ed,data:ec,isError:em}=P();return(0,A.useEffect)(()=>{(er||ey||em)&&(V(""),Q(!1),L(!1))},[er,ey,em]),(0,A.useEffect)(()=>{(async()=>{if(eo)try{el()}catch(e){console.log(e)}})()},[eo,el]),console.log(null==ee?void 0:ee.endTime),console.log(new Date(Date.parse(null==ee?void 0:ee.stakingEndDate)).toLocaleString()),(0,A.useEffect)(()=>{eu&&(console.log(eu),Z(),et(),ea(),$(),D({}),k(-1),E(""),L(!0)),ec&&(console.log(ec),Z(),et(),ea(),$(),es(),L(!0))},[ea,et,$,Z,es,eu,ec]),console.log(en),console.log(ee),console.log(q),(0,A.useEffect)(()=>{"isConnected"===t&&T(!0),"isConnected"!==t&&T(!1)},[t]),(0,a.jsx)(a.Fragment,{children:h?(0,a.jsx)(i.W,{maxW:"1440px",m:"0 auto",pt:"150px",mb:"86px",children:(0,a.jsxs)(s.k,{w:"100%",columnGap:"50px",justifyContent:"center",children:[(0,a.jsxs)(s.k,{flexDirection:"column",children:[(0,a.jsxs)(s.k,{position:"relative",w:"450px",flexDirection:"column",justifyContent:"center",children:[(0,a.jsx)(p.E,{src:g.src,alt:""}),(0,a.jsx)(o.x,{position:"absolute",top:"43px",left:"43px",zIndex:2,fontSize:"46px",color:"#E686FF",fontWeight:"1000",m:"0",children:null!=K?K:0})]}),(0,a.jsxs)(s.k,{mt:"50px",position:"relative",w:"450px",flexDirection:"column",justifyContent:"center",children:[(0,a.jsx)(p.E,{w:"400px",src:x.src,alt:""}),(0,a.jsx)(s.k,{flexDirection:"column",rowGap:"10px",children:Array.isArray(ee)&&ee.length>0&&ee.map((e,t)=>{let{tokenId:n,endTime:i}=e;return(0,a.jsxs)(s.k,{alignItems:"center",children:[(0,a.jsxs)(o.x,{color:"#E686FF",fontSize:"20px",ml:"97px",fontWeight:"600",children:["#",n]}),(0,a.jsx)(o.x,{color:"#E686FF",w:"100px",fontSize:"20px",fontWeight:"600",ml:"108px",flexShrink:"0",children:new Date(Date.parse(i)).toLocaleString()}),(0,a.jsx)(r.z,{ml:"20px",borderWidth:"0px",fontSize:"16px",px:"16px",py:"8px",borderRadius:"8px",fontWeight:"600",border:"1px solid #E686FF",color:"#E686FF",bgColor:"rgba(230, 134, 255, 0.5)",cursor:"pointer",onClick:()=>{ed({tokenId:n}),Q(!0),V("Unlock your NFT...")},children:"Unlock"})]},t)})})]}),(0,a.jsxs)(s.k,{mt:"50px",position:"relative",w:"450px",flexDirection:"column",justifyContent:"center",children:[(0,a.jsx)(p.E,{w:"400px",src:c.src,alt:""}),(0,a.jsx)(s.k,{w:"310px",h:"300px",left:"48px",top:"100px",position:"absolute",flexDirection:"column",rowGap:"10px",overflow:"auto",children:Array.isArray(en)&&en.length>0&&en.map(e=>{var t;let{media:n,tokenId:i}=e;return(0,a.jsxs)(s.k,{alignItems:"center",children:[(0,a.jsx)(l.I,{type:"checkbox",checked:w===i,onInput:()=>{if(w===i)k(-1),E("");else{var e;k(i),E(null===(e=n[0])||void 0===e?void 0:e.thumbnail)}}}),(0,a.jsx)(p.E,{src:null===(t=n[0])||void 0===t?void 0:t.thumbnail,ml:"15px",width:"50px",height:"50px",alt:""}),(0,a.jsxs)(o.x,{ml:"60px",...z,children:["#",i]}),(0,a.jsx)(o.x,{ml:"75px",...z,children:w===i&&"Select"})]},i)})}),(0,a.jsxs)(o.x,{position:"absolute",left:"111px",bottom:"144px",fontWeight:"800",color:"rgb(200, 200, 200)",children:[X," month","1"!==X?"s":""]}),(0,a.jsx)(o.x,{position:"absolute",left:"240px",bottom:"144px",fontWeight:"800",color:"rgb(200, 200, 200)",children:S(X)}),(0,a.jsx)(l.I,{type:"range",min:"1",step:"1",max:"12",position:"absolute",width:"325px",left:"28px",bottom:"113px",value:X,onInput:e=>{H(e.target.value)}}),(0,a.jsx)(p.E,{_hover:{transform:"scale(1.05)"},cursor:"pointer",position:"absolute",bottom:"33px",left:"28px",width:"200px",src:m.src,alt:"",onClick:()=>{D({tokenId:w,image:C,month:X,total:_(X,1),point:F(X,1),weight:S(X)})}})]})]}),(0,a.jsxs)(s.k,{flexDirection:"column",children:[(0,a.jsxs)(s.k,{position:"relative",w:"450px",flexDirection:"column",justifyContent:"center",children:[(0,a.jsx)(p.E,{src:b.src,alt:""}),(0,a.jsxs)(o.x,{position:"absolute",top:"43px",left:"43px",zIndex:2,fontSize:"46px",color:"#E686FF",fontWeight:"1000",m:"0",children:[q?(K/q*100).toFixed(2):0," %"]})]}),(0,a.jsxs)(s.k,{mt:"50px",position:"relative",w:"450px",flexDirection:"column",justifyContent:"center",children:[(0,a.jsx)(p.E,{src:y.src,alt:""}),U.tokenId>=0&&(0,a.jsxs)(s.k,{w:"333px",h:"66px",left:"40px",top:"136px",position:"absolute",alignItems:"center",columnGap:"20px",pl:"10px",...z,children:[(0,a.jsxs)(o.x,{children:["#",U.tokenId]}),(0,a.jsx)(p.E,{width:"50px",height:"50px",src:U.image,alt:""}),(0,a.jsxs)(s.k,{flexDirection:"column",children:[(0,a.jsxs)(o.x,{children:["Month: ",U.month]}),(0,a.jsxs)(o.x,{children:["Weight: ",U.weight]})]}),(0,a.jsxs)(o.x,{children:["Point: ",U.total]})]}),U.tokenId>=0&&(0,a.jsx)(s.k,{w:"333px",h:"30px",left:"40px",top:"264px",position:"absolute",alignItems:"center",pl:"10px",...z,children:(0,a.jsx)(o.x,{children:U.point})}),(0,a.jsx)(p.E,{_hover:{transform:"scale(1.05)"},cursor:"pointer",position:"absolute",bottom:"55px",left:"115px",width:"200px",src:d.src,alt:"",onClick:()=>{ep(),Q(!0),V("Staking your NFT...")}})]}),(0,a.jsxs)(s.k,{flexDirection:"column",p:"10px",...z,children:[(0,a.jsx)(o.x,{children:"Account:"}),(0,a.jsx)(o.x,{children:e}),(0,a.jsxs)(o.x,{children:["Point: ",ei]})]})]})]})}):(0,a.jsx)(s.k,{maxW:"1440px",m:"auto",h:"calc(100vh - 106px)",alignItems:"center",justifyContent:"center",children:(0,a.jsxs)(r.z,{w:"350px",h:"70px",borderRadius:"16px",fontSize:"20px",fontWeight:"800",bgColor:"transparent",color:"rgb(200, 200, 200)",borderWidth:"0px",cursor:"isConnecting"===t?"default":"pointer",_hover:{filter:"isConnecting"===t?"brightness(1)":"brightness(1.1)"},onClick:n,isDisabled:"isConnecting"===t,children:["isConnecting"===t?(0,a.jsxs)(s.k,{zIndex:"1",alignItems:"center",columnGap:"16",children:[(0,a.jsx)(o.x,{fontSize:"18px",children:"Check on your Metamask"}),(0,a.jsx)(u.$,{boxSize:"16px"})]}):(0,a.jsx)(o.x,{zIndex:"1",children:"Connect with Metamask"}),(0,a.jsx)(B,{})]})})})},J=()=>(0,a.jsx)(Q,{});var V=J},5856:function(){}},function(e){e.O(0,[328,774,888,179],function(){return e(e.s=2567)}),_N_E=e.O()}]);